(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{76724:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var s=a(3827),o=a(64090),r=a(9099);a(79865),a(55270);var l=e=>{let{onSelectDates:t}=e,[a,r]=(0,o.useState)(""),[l,n]=(0,o.useState)(""),c=e=>{let{name:t,value:a}=e.target;"startDate"===t?r(a):"endDate"===t&&n(a)};return(0,s.jsx)("div",{className:"container mx-auto p-4 h-full overflow-y-auto",children:(0,s.jsxs)("div",{className:"shadow-md rounded px-8 pt-6 pb-8 mb-4 ",children:[(0,s.jsx)("h1",{className:"text-xl font-semibold mb-6",children:"기간 조회"}),(0,s.jsxs)("div",{className:"daySelectors flex justify-start items-center gap-12",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-bold mb-2",children:"시작 날짜:"}),(0,s.jsx)("input",{type:"date",id:"startDate",name:"startDate",value:a,onChange:c,className:"shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"endDate",className:"block  text-sm font-bold mb-2",children:"끝 날짜:"}),(0,s.jsx)("input",{type:"date",id:"endDate",name:"endDate",value:l,onChange:c,className:"shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]})]}),(0,s.jsx)("button",{onClick:()=>{a&&l?t(new Date(a),new Date(l)):alert("기간 날짜를 설정해주세요.")},className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"데이터 조회"})]})})},n=a(26587),c=a(81433),i=a(38333),d=a(23356),h=a(22983),u=a(10166),x=a(94866),m=a(78720),j=e=>{let{data:t}=e;return(0,s.jsx)(n.h,{width:"100%",height:300,children:(0,s.jsxs)(c.v,{data:t,margin:{top:20,right:30,left:20,bottom:5},children:[(0,s.jsx)(i.q,{strokeDasharray:"3 3"}),(0,s.jsx)(d.K,{dataKey:"name"}),(0,s.jsx)(h.B,{}),(0,s.jsx)(u.u,{}),(0,s.jsx)(x.D,{}),(0,s.jsx)(m.$,{dataKey:"totalReps",fill:"#8884d8"}),(0,s.jsx)(m.$,{dataKey:"totalSets",fill:"#82ca9d"})]})})},p=a(24897),f=a(98308),y=a(74994),g=e=>{let{data:t}=e,a=["#FF5733","#FFC300","#DAF7A6","#C70039","#581845"];return(0,s.jsx)(n.h,{width:300,height:300,children:(0,s.jsxs)(p.u,{width:200,height:200,children:[(0,s.jsx)(f.b,{dataKey:"caloryPerRepsTotal",data:t,cx:"50%",cy:"50%",outerRadius:80,fill:"pink",label:!0,children:t.map((e,t)=>(0,s.jsx)(y.b,{fill:a[t%a.length]},"cell-".concat(t)))}),(0,s.jsx)(u.u,{})]})})},w=()=>{let[e,t]=(0,o.useState)(!0),[a,n]=(0,o.useState)(new Date),[c,i]=(0,o.useState)(new Date),[d,h]=(0,o.useState)(new Date),[u,x]=(0,o.useState)([]),[m,p]=(0,o.useState)({result:[],totalCaloryPerRepsTotal:0});return(0,o.useEffect)(()=>{(async()=>{try{let e=a.toLocaleDateString(),t=localStorage.getItem("token"),s=await fetch("http://localhost:3560/workoutHistory/daydata?date=".concat(e),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});if(s.ok){let a=await s.json();x(a);let o=await fetch("http://localhost:3560/workoutHistory/daydata/calories?date=".concat(e),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});if(o.ok){let e=await o.json();p(e)}else console.error("Error fetching calories data:",o.statusText)}else console.error("Error fetching workout data:",s.statusText)}catch(e){console.error("Error fetching data:",e)}})()},[a]),(0,o.useEffect)(()=>{(async()=>{try{let e=c.toLocaleDateString(),t=d.toLocaleDateString(),a=localStorage.getItem("token"),s=await fetch("http://localhost:3560/workoutHistory/periodData?startDate=".concat(e,"&endDate=").concat(t),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});if(s.ok){let o=await s.json();x(o);let r=await fetch("http://localhost:3560/workoutHistory/periodData/calories?startDate=".concat(e,"&endDate=").concat(t),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});if(r.ok){let e=await r.json();p(e)}else console.error("Error fetching calories data:",r.statusText)}else console.error("Error fetching workout data:",s.statusText)}catch(e){console.error("Error fetching data:",e)}})()},[c,d]),(0,s.jsxs)("div",{className:"w-full h-[80vh] flex flex-col justify-start items-center",children:[(0,s.jsx)("h1",{className:"text-3xl mb-10",children:"Workout History"}),(0,s.jsxs)("div",{className:"flex justify-center items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{className:"bg-pink-500 text-white px-4 py-2 rounded mr-2",onClick:()=>t(!0),children:"Show day record"}),(0,s.jsx)("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>t(!1),children:"Data inqury by period"}),e?(0,s.jsxs)("div",{className:" mt-5",children:[(0,s.jsxs)("h2",{children:["Selected Date: ",a.toLocaleDateString()]}),(0,s.jsx)(r.ZP,{onChange:e=>n(e),value:a})]}):(0,s.jsxs)("div",{className:"mt-5",children:[(0,s.jsxs)("h2",{children:["Selected Start Date:",c.toLocaleDateString()," "]}),(0,s.jsxs)("h2",{children:["Selected End Date:",d.toLocaleDateString()]}),(0,s.jsx)(l,{onSelectDates:(e,t)=>{i(e),h(t)}})]})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center ml-24",children:[(0,s.jsx)(g,{data:m.result}),(0,s.jsxs)("div",{children:["total consume calories: ",m.totalCaloryPerRepsTotal]})]})]}),(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)(j,{data:u})})]})}},55270:function(){}}]);