(()=>{var e={};e.id=389,e.ids=[389],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5077:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=r(482),n=r(9108),i=r(2563),a=r.n(i),o=r(8300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["(pages)",{children:["(main)",{children:["(header)",{children:["community",{children:["editpost",{children:["[postId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1073)),"D:\\HMGgit\\personalProject\\project-exerciseApp\\frontend\\app\\(pages)\\(main)\\(header)\\community\\editpost\\[postId]\\page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5134)),"D:\\HMGgit\\personalProject\\project-exerciseApp\\frontend\\app\\(pages)\\(main)\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2917)),"D:\\HMGgit\\personalProject\\project-exerciseApp\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\HMGgit\\personalProject\\project-exerciseApp\\frontend\\app\\(pages)\\(main)\\(header)\\community\\editpost\\[postId]\\page.tsx"],u="/(pages)/(main)/(header)/community/editpost/[postId]/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(pages)/(main)/(header)/community/editpost/[postId]/page",pathname:"/community/editpost/[postId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2042:(e,t,r)=>{Promise.resolve().then(r.bind(r,8312))},7638:()=>{},2926:(e,t,r)=>{Promise.resolve().then(r.bind(r,6352))},8561:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},8312:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(5344),n=r(3729),i=r.n(n),a=r(8428);let o=({initialContent:e,initialImages:t})=>{let[r,n]=i().useState(e),[o,l]=i().useState([]),[c,d]=i().useState(t.split(",")),{postId:u}=(0,a.useParams)(),p=e=>{l(t=>{let r=[...t];return r.splice(e,1),r}),d(t=>{let r=[...t];return r.splice(e,1),r})},m=async()=>{try{let e=localStorage.getItem("token");if(!e){window.confirm("로그인이 필요합니다. 로그인 페이지로 이동하시겠습니까?")&&(window.location.href="/login");return}let t=await fetch(`http://localhost:3560/community/editFeed/${u}`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({content:r})});if(!t.ok)throw Error("Failed to update.");console.log("Post updated successfully:",t),alert("게시물이 업데이트되었습니다."),window.location.href="/community"}catch(e){console.error("Error updating post:"),alert("게시물 업데이트에 실패했습니다.")}};return(0,s.jsxs)("div",{className:"w-2/3 flex flex-col items-center justify-center text-black",children:[s.jsx("textarea",{className:"w-10/12",value:r,onChange:e=>n(e.target.value),placeholder:"Enter your text...",rows:10}),(0,s.jsxs)("div",{className:"w-10/12 flex justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"fileInput",className:"text-white",children:"Select images:"}),s.jsx("input",{type:"file",id:"fileInput",accept:"image/*",multiple:!0,onChange:e=>{let t=e.target.files;if(t){let e=Array.from(t);l(t=>[...t,...e]);let r=[];for(let e=0;e<t.length;e++){let s=new FileReader;s.onload=()=>{2===s.readyState&&(r.push(s.result),r.length===t.length&&d(e=>[...e,...r]))},s.readAsDataURL(t[e])}}}})]}),s.jsx("button",{onClick:m,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Update Post"})]}),s.jsx("div",{className:"flex w-10/12",children:c.map((e,t)=>(0,s.jsxs)("div",{children:[s.jsx("img",{src:`/community/${e}`,alt:`Preview ${t}`,style:{width:"14vw",height:"12vw"}}),s.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded",onClick:()=>p(t),children:"delete"})]},t))})]})},l=()=>{let{postId:e}=(0,a.useParams)(),[t,r]=(0,n.useState)(null);return((0,n.useEffect)(()=>{(async()=>{try{let t=await fetch(`http://localhost:3560/community/editpost/${e}`),s=await t.json();if(!t.ok)throw Error("게시물 데이터를 불러오는데 실패했습니다.");r(s)}catch(e){console.error("게시물 데이터를 불러오는 동안 에러가 발생했습니다:",e)}})()},[e]),t)?s.jsx(o,{initialContent:t.content,initialImages:t.imgurl}):s.jsx("div",{children:"Loading..."})}},6352:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(5344),n=r(3729),i=r(6506);function a(){let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{t(!!localStorage.getItem("token"))},[]),(0,s.jsxs)("header",{className:"w-full flex border-b-2 border-wine p-4 justify-between",children:[s.jsx(i.default,{href:"/",children:s.jsx("h1",{className:"text-xl cursor-pointer text-white-950",onClick:()=>{window.location.href="/"},children:"Home"})}),s.jsx("ul",{className:"flex ml-auto",children:e?(0,s.jsxs)(s.Fragment,{children:[s.jsx("li",{className:"mr-3 cursor-pointer",onClick:()=>{localStorage.removeItem("token"),t(!1),location.href="/"},children:"로그아웃"}),s.jsx(i.default,{href:"/signup",className:"mr-3",children:s.jsx("li",{children:"회원가입"})}),s.jsx(i.default,{href:"/community",className:"mr-3",children:s.jsx("li",{children:"커뮤니티"})}),s.jsx(i.default,{href:"/airoutine",className:"mr-3",children:s.jsx("li",{children:"Ai추천루틴"})})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(i.default,{href:"/login",className:"mr-3",children:s.jsx("li",{children:"로그인"})}),s.jsx(i.default,{href:"/signup",className:"mr-3",children:s.jsx("li",{children:"회원가입"})}),s.jsx(i.default,{href:"/community",className:"mr-3",children:s.jsx("li",{children:"커뮤니티"})}),s.jsx(i.default,{href:"/airoutine",className:"mr-3",children:s.jsx("li",{children:"Ai추천루틴"})})]})})]})}},8428:(e,t,r)=>{"use strict";var s=r(4767);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},1073:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>a});let s=(0,r(6843).createProxy)(String.raw`D:\HMGgit\personalProject\project-exerciseApp\frontend\app\(pages)\(main)\(header)\community\editpost\[postId]\page.tsx`),{__esModule:n,$$typeof:i}=s,a=s.default},5134:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(5036);function n(){return s.jsx("footer",{className:"w-full border-t-2 border-wine text-center p-4",children:s.jsx("p",{className:"text-red-400",children:"2024 ⓒHong"})})}let i=(0,r(6843).createProxy)(String.raw`D:\HMGgit\personalProject\project-exerciseApp\frontend\app\ui\layout\header\Header.tsx`),{__esModule:a,$$typeof:o}=i,l=i.default;function c({children:e}){return(0,s.jsxs)(s.Fragment,{children:[s.jsx(l,{}),e,s.jsx(n,{})]})}},2917:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>n});var s=r(5036);r(413),r(2);let n={title:"exerciseApp",description:"Guide for exercise"};function i({children:e}){return s.jsx("html",{lang:"ko",children:s.jsx("body",{className:"flex flex-col justify-between h-[100vh] bg-slate-800",children:e})})}},413:()=>{}};var t=require("../../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[22,506],()=>r(5077));module.exports=s})();