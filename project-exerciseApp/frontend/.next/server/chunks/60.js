"use strict";exports.id=60,exports.ids=[60],exports.modules={3060:(e,t,l)=>{l.r(t),l.d(t,{default:()=>n});var r=l(5344),s=l(3729),a=l.n(s);let n=({initialExerciseData:e})=>{let t=e.map(e=>e.name),[l,n]=(0,s.useState)(null),[o,c]=(0,s.useState)(0),[i,d]=(0,s.useState)(!1),[u,x]=(0,s.useState)(0),[m,h]=(0,s.useState)(null),[p,b]=(0,s.useState)(0);(0,s.useEffect)(()=>{let e;return i&&null!==l&&l>0&&(e=setInterval(()=>{n(e=>null!==e&&e>0?e-1:e)},1e3)),()=>{clearInterval(e)}},[i,l]),(0,s.useEffect)(()=>{0===l&&(d(!1),n(o),window.alert("휴식 끝! 운동을 다시 시작하세요~"))},[l,o]);let[f,j]=(0,s.useState)([]),[g,S]=(0,s.useState)(0),N=(e,t)=>{let l=`${e}세트: ${t} reps`;return r.jsx("p",{className:"mb-2",children:l},`set-${e}`)};return(0,r.jsxs)("div",{className:"w-full h-[80vh] flex justify-evenly items-center",children:[r.jsx("div",{className:"h-full flex justify-center items-center",children:r.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:()=>{n(null),c(0),d(!1),x(0),h(null),b(0),j([]),S(0)},children:"Refresh"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center mb-4",children:["Select Exercise:",(0,r.jsxs)("select",{className:"ml-2 p-2 border border-gray-300 rounded text-slate-950",value:m||"",onChange:e=>{h(e.target.value)},children:[r.jsx("option",{value:"",disabled:!0,children:"Select an exercise"}),t.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("label",{className:"flex items-center mb-4",children:["Enter Reps:",r.jsx("input",{className:"ml-2 p-2 border border-gray-300 rounded text-slate-950",type:"number",value:p,onChange:e=>{b(Math.max(Number(e.target.value),0))}})]}),f.map((e,t)=>r.jsx(a().Fragment,{children:e},t)),(0,r.jsxs)("p",{children:["Total Reps: ",g]}),(0,r.jsxs)("div",{className:"flex space-x-4 ml-20",children:[r.jsx("button",{className:"bg-purple-500 text-white px-4 py-2 rounded",onClick:()=>{let e=localStorage.getItem("token");if(0===g){alert("아직 진행한 세트가 없습니다.");return}if(!e){window.confirm("로그인이 필요합니다. 로그인 페이지로 이동하시겠습니까?")&&(window.location.href="/login");return}fetch("http://localhost:3560/recordData",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({totalReps:g,selectedExercise:m,executionCount:u})}).then(async e=>{e.ok?(console.log("Recorded successfully:",await e.json()),b(0),x(0),h(null),j([]),S(0)):console.error("Error recording data:",await e.json())}).catch(e=>{console.error("Error recording data:",e)})},children:"Record"}),r.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded",onClick:()=>{b(0),x(0),S(0),h(null),j([])},children:"Reset"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold mb-4",children:["BreakTime: ",null===l?"00:00:00":`${Math.floor(l/3600).toString().padStart(2,"0")}:${Math.floor(l%3600/60).toString().padStart(2,"0")}:${(l%60).toString().padStart(2,"0")}`]}),(0,r.jsxs)("label",{className:"flex items-center mb-4",children:["Countdown:",r.jsx("input",{className:"ml-2 p-2 border border-gray-300 rounded text-slate-950",type:"number",value:o,onChange:e=>{let t=Number(e.target.value);c(Math.max(t,0)),n(Math.max(t,0))}})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[r.jsx("button",{className:`${i?"bg-blue-500":"bg-green-500"} text-white px-4 py-2 rounded`,onClick:()=>{if(!1===i&&l===o&&0!==o&&(!m||0===p)){alert("진행할 운동을 선택하시고 Reps를 정해주세요.");return}if(!1===i&&l===o&&0!==o){x(e=>e+1);let e=N(u+1,p);j(t=>[...t,e]),S(e=>e+p)}!1===i&&0===o&&d(e=>!e),d(e=>!e)},children:i?"Pause":o===l?"SetDone-BreaktimeStart":"Resume"}),r.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded",onClick:()=>{n(0),c(0),d(!1)},children:"Reset"})]})]})]})}}};